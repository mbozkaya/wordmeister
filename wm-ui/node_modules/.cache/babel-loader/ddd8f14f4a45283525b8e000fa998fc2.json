{"ast":null,"code":"import { Fetch } from '../components/Fetch';\nimport urlConfig from '../configs/urlConfig';\nimport utilitity from '../configs/utilitiy';\nexport default {\n  login: model => {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(model)\n    };\n    return Fetch(urlConfig.account.login, requestOptions);\n  },\n  signup: model => {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(model)\n    };\n    return Fetch(urlConfig.account.signup, requestOptions);\n  },\n  authenticated: () => {\n    const requestOptions = {\n      method: 'GET',\n      headers: utilitity.authorizedHeader()\n    };\n    return fetch(urlConfig.account.authenticated, requestOptions).then(response => {\n      if (response.ok) {\n        return true;\n      }\n\n      if (response.status === 401) {\n        localStorage.removeItem('user');\n      } else {\n        throw new Error();\n      }\n\n      return false;\n    }).then(json => {\n      return json;\n    }).catch(ex => {\n      console.error(ex);\n      return false;\n    });\n  }\n};","map":{"version":3,"sources":["C:/Repository/wordmeister/wm-ui/src/services/accountService.js"],"names":["Fetch","urlConfig","utilitity","login","model","requestOptions","method","headers","body","JSON","stringify","account","signup","authenticated","authorizedHeader","fetch","then","response","ok","status","localStorage","removeItem","Error","json","catch","ex","console","error"],"mappings":"AAAA,SAASA,KAAT,QAAsB,qBAAtB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AAEA,eAAe;AACbC,EAAAA,KAAK,EAAGC,KAAD,IAAW;AAChB,UAAMC,cAAc,GAAG;AACrBC,MAAAA,MAAM,EAAE,MADa;AAErBC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFY;AAKrBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,KAAf;AALe,KAAvB;AAQA,WAAOJ,KAAK,CAACC,SAAS,CAACU,OAAV,CAAkBR,KAAnB,EAA0BE,cAA1B,CAAZ;AACD,GAXY;AAYbO,EAAAA,MAAM,EAAGR,KAAD,IAAW;AACjB,UAAMC,cAAc,GAAG;AACrBC,MAAAA,MAAM,EAAE,MADa;AAErBC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFY;AAKrBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,KAAf;AALe,KAAvB;AAQA,WAAOJ,KAAK,CAACC,SAAS,CAACU,OAAV,CAAkBC,MAAnB,EAA2BP,cAA3B,CAAZ;AACD,GAtBY;AAuBbQ,EAAAA,aAAa,EAAE,MAAM;AACnB,UAAMR,cAAc,GAAG;AACrBC,MAAAA,MAAM,EAAE,KADa;AAErBC,MAAAA,OAAO,EAAEL,SAAS,CAACY,gBAAV;AAFY,KAAvB;AAKA,WAAOC,KAAK,CAACd,SAAS,CAACU,OAAV,CAAkBE,aAAnB,EAAkCR,cAAlC,CAAL,CACJW,IADI,CACEC,QAAD,IAAc;AAClB,UAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,eAAO,IAAP;AACD;;AACD,UAAID,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AAC3BC,QAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACD,OAFD,MAEO;AACL,cAAM,IAAIC,KAAJ,EAAN;AACD;;AACD,aAAO,KAAP;AACD,KAXI,EAYJN,IAZI,CAYEO,IAAD,IAAU;AACd,aAAOA,IAAP;AACD,KAdI,EAeJC,KAfI,CAeGC,EAAD,IAAQ;AACbC,MAAAA,OAAO,CAACC,KAAR,CAAcF,EAAd;AACA,aAAO,KAAP;AACD,KAlBI,CAAP;AAmBD;AAhDY,CAAf","sourcesContent":["import { Fetch } from '../components/Fetch';\nimport urlConfig from '../configs/urlConfig';\nimport utilitity from '../configs/utilitiy';\n\nexport default {\n  login: (model) => {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(model),\n    };\n\n    return Fetch(urlConfig.account.login, requestOptions);\n  },\n  signup: (model) => {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(model)\n    };\n\n    return Fetch(urlConfig.account.signup, requestOptions);\n  },\n  authenticated: () => {\n    const requestOptions = {\n      method: 'GET',\n      headers: utilitity.authorizedHeader(),\n    };\n\n    return fetch(urlConfig.account.authenticated, requestOptions)\n      .then((response) => {\n        if (response.ok) {\n          return true;\n        }\n        if (response.status === 401) {\n          localStorage.removeItem('user');\n        } else {\n          throw new Error();\n        }\n        return false;\n      })\n      .then((json) => {\n        return json;\n      })\n      .catch((ex) => {\n        console.error(ex);\n        return false;\n      });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}